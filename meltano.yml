version: 1
send_anonymous_usage_stats: true
project_id: "tap-orca"
default_environment: test
environments:
- name: test
plugins:
  extractors:
  - name: "tap-orca"
    namespace: "tap_orca"
    pip_url: -e .
    capabilities:
    - state
    - catalog
    - discover
    - about
    - stream-maps
    settings:
    - name: api_token
      sensitive: true
    - name: custom_streams
      kind: array
    config:
      custom_streams:
      - name: "example_stream_name"
        query: '{"models": ["Inventory"], "type": "object_set", "with": {"operator": "and", "type": "operation", "values": [{"operator": "or", "type": "operation", "values": [{"key": "NewSubCategory", "values": ["Exposure"], "type": "str", "operator": "in"}, {"key": "Type", "values": ["Container"], "type": "str", "operator": "in"}]}, {"type": "operation", "values": [{"keys": ["Vulnerabilities"], "type": "object_set", "with": {"type": "operation", "negate": false, "values": [{"keys": ["CVE"], "type": "object", "with": {"type": "operation", "negate": false, "values": [{"key": "Cvss3Severity", "type": "str", "values": ["HIGH", "MEDIUM", "CRITICAL"], "operator": "in"}], "disabled": false, "operator": "and"}, "models": ["CVE"], "negate": false, "disabled": false, "operator": "has"}, {"key": "FixAvailable", "type": "str", "values": ["Yes", "Extended"], "operator": "in"}, {"keys": ["CVEVendorData"], "type": "object_set", "with": {"type": "operation", "values": [], "operator": "and"}, "models": ["CVEDescription"], "operator": "has"}], "disabled": false, "operator": "and"}, "models": ["Vulnerability"], "negate": false, "disabled": false, "operator": "has"}, {"type": "operation", "negate": false, "values": [{"keys": ["AssetGroup"], "type": "object", "with": {"type": "operation", "negate": false, "values": [{"key": "ClusterName", "type": "str", "negate": false, "values": ["prod-wario"], "disabled": false, "operator": "containing"}], "disabled": false, "operator": "or"}, "models": ["Group"], "negate": false, "disabled": false, "operator": "has"}, {"type": "operation", "values": [{"keys": ["CloudAccount"], "type": "object_set", "with": {"type": "operation", "values": [{"key": "Name", "type": "str", "values": ["AWS - 345874614325 - Cloudservicesprod", "AWS - 821209223267 - Hosting Prod"], "operator": "in"}], "operator": "and"}, "models": ["CloudAccount"], "operator": "has"}], "operator": "and"}], "disabled": false, "operator": "and"}], "operator": "and"}]}}'
  loaders:
  - name: target-jsonl
    variant: andyh1203
    pip_url: target-jsonl
